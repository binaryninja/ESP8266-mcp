
# ESP8266 MCP Integrated Test Log
# Generated: 2025-06-21T07:44:39.004697
# ESP8266 IP: 192.168.86.37
# Serial Port: /dev/ttyUSB1
# Baud Rate: 74880
================================================================================
2025-06-21T07:44:39.030957 [ESP8266]  INFO: P: Stack remaining after transport creation: 7312 bytes[0m
2025-06-21T07:44:39.030979 [ESP8266]  INFO: [0
2025-06-21T07:44:39.041068 [ESP8266]  INFO: [MCPServer] MCPServer created[0m
2025-06-21T07:44:39.041083 [ESP8266]  INFO: [MCPServer] MCPServer: Testing bas
2025-06-21T07:44:39.051157 [ESP8266]  INFO: ic JSON creation...[0m
2025-06-21T07:44:39.051169 [ESP8266]  INFO: [MCPServer] MCPServer: B
2025-06-21T07:44:39.061326 [ESP8266]  INFO: asic JSON null value created successfully[0m
2025-06-21T07:44:39.061352 [ESP8266]  INFO: [MCPServer] MCPServer: JSON object
2025-06-21T07:44:39.071436 [ESP8266]  INFO: created successfully[0m
2025-06-21T07:44:39.071445 [ESP8266]  INFO: [MCPServer] MCPServer:
2025-06-21T07:44:39.081538 [ESP8266]  INFO: JSON test passed during initialization[0m
2025-06-21T07:44:39.081548 [ESP8266]  INFO: [0;32mI (8314) ESP
2025-06-21T07:44:39.091641 [ESP8266]  INFO: 8266-MCP: Stack remaining after server creation: 7312 bytes[0m
2025-06-21T07:44:39.091653 [ESP8266]  INFO: [ESP8266-MCP] St
2025-06-21T07:44:39.101738 [ESP8266]  INFO: arting C++ MCP server for client[0m
2025-06-21T07:44:39.101746 [ESP8266]  INFO: [0;32mI (8334) MCPServer:
2025-06-21T07:44:39.111830 [ESP8266]  INFO: MCP Server starting...[0m
2025-06-21T07:44:39.111839 [ESP8266]  INFO: [MCPServer] Debug: A
2025-06-21T07:44:39.121918 [ESP8266]  INFO: bout to create std::string buffer[0m
2025-06-21T07:44:39.121926 [ESP8266]  INFO: [MCPServer] Debug: Buffer created successf
2025-06-21T07:44:39.132014 [ESP8266]  INFO: ully[0m
2025-06-21T07:44:39.132026 [ESP8266]  INFO: [MCPServer] Debug: About to enter main
2025-06-21T07:44:39.142115 [ESP8266]  INFO: loop[0m
2025-06-21T07:44:39.142156 [ESP8266]  INFO: [MCPServer] Debug: Loop iteration start
2025-06-21T07:44:39.152242 [ESP8266]  INFO: [0m
2025-06-21T07:44:39.152251 [ESP8266]  INFO: [MCPServer] Debug: About to call isConnected()[0m
2025-06-21T07:44:39.152255 [ESP8266]  INFO: [0;32mI (8386) MCPServ
2025-06-21T07:44:39.162343 [ESP8266]  INFO: [returned] true[0m
2025-06-21T07:44:39.162355 [ESP8266]  INFO: [0;32mI (8395) MCP
2025-06-21T07:44:39.172434 [ESP8266]  INFO: Server: Debug: About to call transport->read()[0m
2025-06-21T07:44:39.172441 [ESP8266]  INFO: [EspSocketTransport] Socket c
2025-06-21T07:44:39.182524 [ESP8266]  INFO: losed by peer[0m
2025-06-21T07:44:39.182533 [ESP8266]  INFO: [MCPServer] Debug: transport->
2025-06-21T07:44:39.192632 [ESP8266]  INFO: [returned] false[0m
2025-06-21T07:44:39.192644 [ESP8266]  INFO: [MCPServer] Transport
2025-06-21T07:44:39.202734 [ESP8266]  INFO: read failed, stopping server[0m
2025-06-21T07:44:39.202745 [ESP8266]  INFO: [MCPServer] MCP Server stopped[0m
2025-06-21T07:44:39.202749 [ESP8266]  INFO: [0;32mI (
2025-06-21T07:44:39.212846 [ESP8266]  INFO: [ESP8266-MCP] Client disconnected[0m
2025-06-21T07:44:39.212861 [ESP8266]  INFO: [0;32mI (8446) ESP8
2025-06-21T07:44:39.222972 [ESP8266]  INFO: 266-MCP: [After client disconnect] Free heap: 62660 bytes, Min f
2025-06-21T07:44:39.233073 [ESP8266]  INFO: ree: 53252 bytes, Stack remaining: 6688 bytes[0m
2025-06-21T07:44:39.233084 [ESP8266]  INFO: [EspSocketTransport] Socket cl
2025-06-21T07:44:39.243174 [ESP8266]  INFO: osed manually[0m
2025-06-21T07:44:39.243183 [ESP8266]  INFO: [MCPServer] MCPServer destroye
2025-06-21T07:44:39.253279 [ESP8266]  INFO: d[0m
2025-06-21T07:44:42.005348 [ CLIENT]  TEST: 🚀 Starting test: test_mcp_client.py
2025-06-21T07:44:42.061406 [ESP8266]  INFO: [ESP8266-MCP] Client connected from 192.168.86.32:55752[0m
2025-06-21T07:44:42.061436 [ESP8266]  INFO: [0;32mI (11302) ES
2025-06-21T07:44:42.071534 [ESP8266]  INFO: P8266-MCP: [Before MCP server creation] Free heap: 62700 bytes,
2025-06-21T07:44:42.081639 [ESP8266]  INFO: Min free: 53252 bytes, Stack remaining: 6688 bytes[0m
2025-06-21T07:44:42.081651 [ESP8266]  INFO: [0;32mI
2025-06-21T07:44:42.091797 [ESP8266]  INFO: [ESP8266-MCP] Stack remaining before MCP server: 6688 bytes[0m
2025-06-21T07:44:42.091825 [ESP8266]  INFO: [0;32mI (11324) EspSoc
2025-06-21T07:44:42.101932 [ESP8266]  INFO: ketTransport: EspSocketTransport created with socket 55[0m
2025-06-21T07:44:42.101946 [ESP8266]  INFO: [0
2025-06-21T07:44:42.112047 [ESP8266]  INFO: [ESP8266-MCP] Stack remaining after transport creation: 6688 bytes[0m
2025-06-21T07:44:42.112061 [ESP8266]  INFO: [0;32mI (1
2025-06-21T07:44:42.122160 [ESP8266]  INFO: [MCPServer] MCPServer created[0m
2025-06-21T07:44:42.122172 [ESP8266]  INFO: [0;32mI (11354) MCPServ
2025-06-21T07:44:42.132300 [ESP8266]  INFO: er: MCPServer: Testing basic JSON creation...[0m
2025-06-21T07:44:42.132317 [ESP8266]  INFO: [0;32mI (113
2025-06-21T07:44:42.142400 [ESP8266]  INFO: [MCPServer] MCPServer: Basic JSON null value created successfully[0m
2025-06-21T07:44:42.142411 [ESP8266]  INFO: [0;32mI (11376) MCPSe
2025-06-21T07:44:42.152493 [ESP8266]  INFO: rver: MCPServer: JSON object created successfully[0m
2025-06-21T07:44:42.152501 [ESP8266]  INFO: [0;32mI
2025-06-21T07:44:42.162580 [ESP8266]  INFO: [MCPServer] MCPServer: JSON test passed during initializa
2025-06-21T07:44:42.172665 [ESP8266]  INFO: tion[0m
2025-06-21T07:44:42.172672 [ESP8266]  INFO: [ESP8266-MCP] Stack remaining after server creation: 6688 bytes[0m
2025-06-21T07:44:42.172676 [ESP8266]  INFO: 
2025-06-21T07:44:42.182754 [ESP8266]  INFO: [ESP8266-MCP] Starting C++ MCP server for client
2025-06-21T07:44:42.192856 [ESP8266]  INFO: [0m
2025-06-21T07:44:42.192869 [ESP8266]  INFO: [MCPServer] MCP Server starting...[0m
2025-06-21T07:44:42.192873 [ESP8266]  INFO: [MCPServer] Debug:
2025-06-21T07:44:42.202962 [ESP8266]  INFO: About to create std::string buffer[0m
2025-06-21T07:44:42.202973 [ESP8266]  INFO: [0;32mI (11435) MCPServ
2025-06-21T07:44:42.213064 [ESP8266]  INFO: er: Debug: Buffer created successfully[0m
2025-06-21T07:44:42.213072 [ESP8266]  INFO: [0;32mI (11444) MCP
2025-06-21T07:44:42.223148 [ESP8266]  INFO: Server: Debug: About to enter main loop[0m
2025-06-21T07:44:42.223154 [ESP8266]  INFO: [MCPServer] Debug: Loop iteration s
2025-06-21T07:44:42.233232 [ESP8266]  INFO: tart[0m
2025-06-21T07:44:42.233239 [ESP8266]  INFO: [MCPServer] Debug: About to call isCon
2025-06-21T07:44:42.243315 [ESP8266]  INFO: nected()[0m
2025-06-21T07:44:42.243322 [ESP8266]  INFO: [MCPServer] Debug: isConnected() r
2025-06-21T07:44:42.253399 [ESP8266]  INFO: eturned: true[0m
2025-06-21T07:44:42.253406 [ESP8266]  INFO: [MCPServer] Debug: About to call transport->read()[0m
2025-06-21T07:44:42.253409 [ESP8266]  INFO: [0;3
2025-06-21T07:44:42.263483 [ESP8266]  INFO: [MCPServer] Debug: transport->read() returned: true[
2025-06-21T07:44:42.273563 [ESP8266]  INFO: 0m
2025-06-21T07:44:42.273570 [ESP8266]  INFO: [MCPServer] Debug: Read successful, buffer s
2025-06-21T07:44:42.283648 [ESP8266]  INFO: ize: 236[0m
2025-06-21T07:44:42.283656 [ESP8266]  INFO: [MCPServer] Debug: About to process message[0m
2025-06-21T07:44:42.283659 [ESP8266]  INFO: [0;32mI (11517)
2025-06-21T07:44:42.293752 [ESP8266]  INFO: entered[0m
2025-06-21T07:44:42.293766 [ESP8266]  INFO: [0;32mI (11526)
2025-06-21T07:44:42.303850 [ESP8266]  INFO: MCPServer: Debug: About to check string validity[0m
2025-06-21T07:44:42.303859 [ESP8266]  INFO: [MCPServer] Debug: Got st
2025-06-21T07:44:42.313938 [ESP8266]  INFO: ring pointer: 0x40107744[0m
2025-06-21T07:44:42.313945 [ESP8266]  INFO: [MCPServer] Debug:
2025-06-21T07:44:42.324022 [ESP8266]  INFO: About to get string size[0m
2025-06-21T07:44:42.324029 [ESP8266]  INFO: [MCPServer] Debug
2025-06-21T07:44:42.334107 [ESP8266]  INFO: : Message size: 236[0m
2025-06-21T07:44:42.334114 [ESP8266]  INFO: [MCPServer] Debug: Checking for empty message[0m
2025-06-21T07:44:42.334117 [ESP8266]  INFO: [0;
2025-06-21T07:44:42.344192 [ESP8266]  INFO: [MCPServer] Debug: Checking for HTTP request[0m
2025-06-21T07:44:42.344200 [ESP8266]  INFO: [
2025-06-21T07:44:42.354276 [ESP8266]  INFO: [MCPServer] Debug: About to create method/id/param
2025-06-21T07:44:42.364357 [ESP8266]  INFO: s strings[0m
2025-06-21T07:44:42.364364 [ESP8266]  INFO: [MCPServer] Debug: Strings created, calling parseRequest[0m
2025-06-21T07:44:42.364367 [ESP8266]  INFO: abo
2025-06-21T07:44:42.374446 [ESP8266]  INFO: rt() was called at PC 0x402851f9 on core 0
2025-06-21T07:44:42.374454 [ESP8266]  INFO: Guru Meditation Err
2025-06-21T07:44:42.384534 [ESP8266]  INFO: or: Core  0 panic'ed (StoreProhibited). Exception was unhandled.
2025-06-21T07:44:42.394636 [ESP8266]  INFO: Core 0 register dump:
2025-06-21T07:44:42.394650 [ESP8266]  INFO: PC      : 0x40215a96  PS      : 0x00000030  A0      : 0x40215a94  A1
2025-06-21T07:44:42.404745 [ESP8266]  INFO: : 0x3fff6a30
2025-06-21T07:44:42.404757 [ESP8266]  INFO: A2      : 0x00000000  A3      : 0xffffffdb
2025-06-21T07:44:42.414834 [ESP8266]  INFO: A4      : 0x00000001  A5      : 0x00000001
2025-06-21T07:44:42.414842 [ESP8266]  INFO: A6      : 0x0000
2025-06-21T07:44:42.424921 [ESP8266]  INFO: 0000  A7      : 0x00000000  A8      : 0x0000006e  A9      : 0x000000e0
2025-06-21T07:44:42.424929 [ESP8266]  INFO: A10     : 0x00000065
2025-06-21T07:44:42.435015 [ESP8266]  INFO: A11     : 0x00000002  A12     : 0x3fff6c54  A13     : 0x4028575
2025-06-21T07:44:42.445102 [ESP8266]  INFO: d
2025-06-21T07:44:42.445110 [ESP8266]  INFO: A14     : 0x40265982  A15     : 0x3fff6cf0  SAR     : 0x0000001e  EXCCAUSE: 0x0000001d
2025-06-21T07:44:42.455207 [ESP8266]  INFO: Backtrace: 0x40215a96:0x3fff6a30 0x402851fc:0x3fff6a40 0x402
2025-06-21T07:44:42.465298 [ESP8266]  INFO: 8575d:0x3fff6b20 Guru Meditation Error: Core  0 panic'ed (LoadSt
2025-06-21T07:44:42.475381 [ESP8266]  INFO: oreAlignment). Exception was unhandled.
2025-06-21T07:44:42.475389 [ESP8266]  INFO: Core 0 register dump:
2025-06-21T07:44:42.475391 [ESP8266]  INFO: PC      : 0x4021eea5  PS      :
2025-06-21T07:44:42.485468 [ESP8266]  INFO: 0x00000033  A0      : 0x4021ee18  A1      : 0x3ffe8d40
2025-06-21T07:44:42.485476 [ESP8266]  INFO: A2
2025-06-21T07:44:42.495569 [ESP8266]  INFO: : 0x0007574d  A3      : 0x00000031  A4      : 0x3fff6bf1  A5
2025-06-21T07:44:42.505668 [ESP8266]  INFO: : 0x3fff6bed
2025-06-21T07:44:42.505677 [ESP8266]  INFO: A6      : 0x000007fe  A7      : 0x000000a1  A8      : 0x000000c0  A9
2025-06-21T07:44:42.515752 [ESP8266]  INFO: : 0x000000e0
2025-06-21T07:44:42.515758 [ESP8266]  INFO: A10     : 0x00000065  A11     : 0x00000002  A1
2025-06-21T07:44:42.525835 [ESP8266]  INFO: 2     : 0x4028575d  A13     : 0x3ffe8d84
2025-06-21T07:44:42.525843 [ESP8266]  INFO: A14     : 0x40215a9
2025-06-21T07:44:42.535921 [ESP8266]  INFO: 4  A15     : 0x40215a94  SAR     : 0x0000001f  EXCCAUSE: 0x00000009
2025-06-21T07:44:42.535928 [ESP8266]  INFO: Backtrace: 0x4021eea5
2025-06-21T07:44:42.546008 [ESP8266]  INFO: :0x3ffe8d40 0x4021559f:0x3ffe8d70 0x40100eec:0x3ffe8dc0 0x4021ee
2025-06-21T07:44:42.556093 [ESP8266]  INFO: 18:0x3ffe8de0
2025-06-21T07:44:42.556101 [ESP8266]  INFO: @KTL	%γ)%yh)x 
2025-06-21T07:44:42.566179 [ESP8266]  INFO: HV-A
2025-06-21T07:44:42.566187 [ESP8266]  INFO: 	)*5A)
2025-06-21T07:44:42.576265 [ESP8266]  INFO: LPA
2025-06-21T07:44:42.576273 [ESP8266]  INFO: I\-[P9e@|)5S 
2025-06-21T07:44:42.576275 [ESP8266]  INFO: LPA
2025-06-21T07:44:42.576277 [ESP8266]  INFO: I~TC
2025-06-21T07:44:42.576279 [ESP8266]  INFO: R
2025-06-21T07:44:42.576281 [ESP8266]  INFO: )@@
2025-06-21T07:44:42.576284 [ESP8266]  INFO: 1
2025-06-21T07:44:42.586363 [ESP8266]  INFO: LPA
2025-06-21T07:44:42.586371 [ESP8266]  INFO: I-CV	XJ	u%Z#	B#55ҍ qNʉ/G؛PEVu@
2025-06-21T07:44:42.596460 [ESP8266]  INFO: a9eVUNUG5 powpCPI\QJZA
2025-06-21T07:44:42.596471 [ESP8266]  INFO: +)Xj	!%Z75
2025-06-21T07:44:42.606564 [ESP8266]  INFO:  !)ay	EB	%~w@
2025-06-21T07:44:42.606576 [ESP8266]  INFO: +S
2025-06-21T07:44:42.606579 [ESP8266]  INFO: 53mE5 xnVX7
2025-06-21T07:44:42.606582 [ESP8266]  INFO: @R qy	E
2025-06-21T07:44:42.616664 [ESP8266]  INFO: B	E%~w RQT[-E@	M%yC
2025-06-21T07:44:42.616672 [ESP8266]  INFO: !Ѝ 1V7ԛ
2025-06-21T07:44:42.626752 [ESP8266]  INFO: )H+*5 `oVXq !IAjL !
2025-06-21T07:44:42.626759 [ESP8266]  INFO: 1E
2025-06-21T07:44:42.626762 [ESP8266]  INFO: (JAh	%
2025-06-21T07:44:42.636854 [ESP8266]  INFO: Y1A.!5J !
2025-06-21T07:44:42.636866 [ESP8266]  INFO: 1%/Gؓ
2025-06-21T07:44:42.636869 [ESP8266]  INFO: %Y.-.MP!%.
2025-06-21T07:44:42.646959 [ESP8266]  INFO: i,#!11EQ5 `m%Y.lT/LZZ[RH+xD5j	#yn
2025-06-21T07:44:42.657049 [ESP8266]  INFO: q1DT1R\\9	E+Ej	1#Ynn
2025-06-21T07:44:42.667170 [ESP8266]  INFO: 1LEP5g@R1	]EBJy	E	)u@ֵl
2025-06-21T07:44:42.677268 [ESP8266]  INFO: 1P^eTe5=e )Ij)PJAH)Z7V T1
2025-06-21T07:44:42.687375 [ESP8266]  INFO: R\!1@( )IH)PB	#AX5dֵLT1%	1
2025-06-21T07:44:42.697485 [ESP8266]  INFO: T1\9@)rw
2025-06-21T07:44:42.697496 [ESP8266]  INFO: )XJ	%YNN@XPALpLY+#ԻtX)
2025-06-21T07:44:42.727809 [ESP8266]  INFO: [ESP8266-MCP] ESP8
2025-06-21T07:44:42.737981 [ESP8266]  INFO: 266-MCP starting up...[0m
2025-06-21T07:44:42.738008 [ESP8266]  INFO: [ESP8266-MCP] [App sta
2025-06-21T07:44:42.748134 [ESP8266]  INFO: rt] Free heap: 90700 bytes, Min free: 88156 bytes, Stack remaining: 7312 bytes[0m
2025-06-21T07:44:42.748150 [ESP8266]  INFO: [0;32mI (23
2025-06-21T07:44:42.758225 [ESP8266]  INFO: [ESP8266-MCP] [After NVS init] Free heap: 90700 bytes, Min fre
2025-06-21T07:44:42.768304 [ESP8266]  INFO: e: 88156 bytes, Stack remaining: 7312 bytes[0m
2025-06-21T07:44:42.768310 [ESP8266]  INFO: [0;32mI (249)
2025-06-21T07:44:42.778385 [ESP8266]  INFO: ESP8266-MCP: Initializing WiFi...[0m
2025-06-21T07:44:42.778389 [ESP8266]  INFO: [system_api] Base MAC address is not set, r
2025-06-21T07:44:42.789178 [ESP8266]  INFO: ead default base MAC address from EFUSE[0m
2025-06-21T07:44:42.789195 [ESP8266]  INFO: [0;32mI (271) syst
2025-06-21T07:44:42.799290 [ESP8266]  INFO: em_api: Base MAC address is not set, read default base MAC address from EFUSE[0m
2025-06-21T07:44:42.849617 [ESP8266]  INFO: phy_version: 1163.0, 665d56c, Ju
2025-06-21T07:44:42.859700 [ESP8266]  INFO: n 24 2020, 10:00:08, RTOS new
2025-06-21T07:44:42.859704 [ESP8266]  INFO: [phy_init] phy ver: 1163_0[0m
2025-06-21T07:44:42.869805 [ESP8266]  INFO: [ESP8266-MCP] wifi
2025-06-21T07:44:42.879892 [ESP8266]  INFO: _init_sta finished.[0m
2025-06-21T07:44:42.991256 [ESP8266]  INFO: [wifi:state] 0 -> 2 (b0)
2025-06-21T07:44:42.991278 [ESP8266]  INFO: [0m
2025-06-21T07:44:43.021504 [ESP8266]  INFO: [wifi:state] 2 -> 3 (0)
2025-06-21T07:44:43.021515 [ESP8266]  INFO: [0m
2025-06-21T07:44:43.031621 [ESP8266]  INFO: [wifi:state] 3 ->
2025-06-21T07:44:43.041716 [ESP8266]  INFO: 5 (10)
2025-06-21T07:44:43.041724 [ESP8266]  INFO: [0m
2025-06-21T07:44:43.202777 [ESP8266]  INFO: [0;32mI (694) wifi:connected with FBI Surveillance Van, aid = 1
2025-06-21T07:44:43.212872 [ESP8266]  INFO: , channel 1, HT20, bssid = d8:6c:63:e6:14:02
2025-06-21T07:44:43.212878 [ESP8266]  INFO: [0m
2025-06-21T07:44:44.270043 [ESP8266]  INFO: [tcpip_adapter] sta ip: 192.168.86.37, mask: 255.
2025-06-21T07:44:44.280150 [ESP8266]  INFO: 255.255.0, gw: 192.168.86.1[0m
2025-06-21T07:44:44.280160 [ESP8266]  INFO: [ESP8266-MCP] got ip:192.168.86.37[0m
2025-06-21T07:44:44.280165 [ESP8266]  INFO: [0;32mI
2025-06-21T07:44:44.290244 [ESP8266]  INFO: [ESP8266-MCP] connected to ap SSID:FBI Surveillance Van[
2025-06-21T07:44:44.300336 [ESP8266]  INFO: 0m
2025-06-21T07:44:44.300345 [ESP8266]  INFO: [ESP8266-MCP] [After WiFi init] Free heap: 63
2025-06-21T07:44:44.310438 [ESP8266]  INFO: 604 bytes, Min free: 61340 bytes, Stack remaining: 6752 bytes[0m
2025-06-21T07:44:44.310446 [ESP8266]  INFO: [0;32mI (1790) wifi:pm stop
2025-06-21T07:44:44.320529 [ESP8266]  INFO: [ESP8266-MCP] WiFi connected, starting MCP s
2025-06-21T07:44:44.330614 [ESP8266]  INFO: erver...[0m
2025-06-21T07:44:44.330620 [ESP8266]  INFO: [ESP8266-MCP] [MCP task start] Free heap: 55284 bytes, Min free: 53
2025-06-21T07:44:44.340703 [ESP8266]  INFO: 828 bytes, Stack remaining: 7940 bytes[0m
2025-06-21T07:44:44.340709 [ESP8266]  INFO: [0;32mI (1823) ESP8
2025-06-21T07:44:44.350792 [ESP8266]  INFO: 266-MCP: TinyMCP server listening on port 8080[0m
2025-06-21T07:44:44.350801 [ESP8266]  INFO: [0;32mI (18
2025-06-21T07:44:44.360882 [ESP8266]  INFO: [ESP8266-MCP] ESP8266-MCP initialization complete[0m
2025-06-21T07:44:52.052545 [ CLIENT]  INFO: 🤖 ESP8266 MCP Client Test Script
2025-06-21T07:44:52.052574 [ CLIENT]  INFO: ============================================================
2025-06-21T07:44:52.052577 [ CLIENT]  INFO: Target: 192.168.86.37:8080
2025-06-21T07:44:52.052579 [ CLIENT]  INFO: ============================================================
2025-06-21T07:44:52.052581 [ CLIENT]  INFO: 🧪 Starting comprehensive MCP test suite...
2025-06-21T07:44:52.052584 [ CLIENT]  INFO: ============================================================
2025-06-21T07:44:52.052587 [ CLIENT]  INFO: 📡 TEST 1: Connection
2025-06-21T07:44:52.052589 [ CLIENT]  INFO: 🔗 Connecting to MCP server at 192.168.86.37:8080...
2025-06-21T07:44:52.052591 [ CLIENT]  INFO: ✅ Connected successfully!
2025-06-21T07:44:52.052593 [ CLIENT]  INFO: 🚀 TEST 2: Initialization
2025-06-21T07:44:52.052595 [ CLIENT]  INFO: 🚀 Initializing MCP session...
2025-06-21T07:44:52.052598 [ CLIENT]  INFO: 📤 Sending: {"jsonrpc": "2.0", "id": "1", "method": "initialize", "params": {"protocolVersion": "2024-11-05", "clientInfo": {"name": "ESP8266-MCP-Test-Client", "version": "1.0.0"}, "capabilities": {"roots": {"listChanged": false}, "sampling": {}}}}
2025-06-21T07:44:52.052600 [ CLIENT]  INFO: 📤 Sent 237 bytes successfully
2025-06-21T07:44:52.052601 [ CLIENT]  INFO: 📥 Waiting for response...
2025-06-21T07:44:52.052603 [ CLIENT]  INFO: ⏱️  Socket timeout after 10.0s
2025-06-21T07:44:52.052605 [ CLIENT]  INFO: ❌ No response received
2025-06-21T07:44:52.052607 [ CLIENT]  INFO: 🔌 Disconnected from server
2025-06-21T07:44:52.057632 [ CLIENT] ERROR: ❌ Test failed: test_mcp_client.py (exit code: 1)
2025-06-21T07:44:54.057786 [ CLIENT]  TEST: 🔧 Testing echo tool with custom message
2025-06-21T07:44:54.065599 [ CLIENT]  INFO: 📤 Sending echo request: Hello from integrated test demo!
2025-06-21T07:44:54.086332 [ESP8266]  INFO: [ESP8266-MCP] Client connected from 192.168.86.32:52032[0m
2025-06-21T07:44:54.086364 [ESP8266]  INFO: [0;32mI (11573) ES
2025-06-21T07:44:54.096446 [ESP8266]  INFO: P8266-MCP: [Before MCP server creation] Free heap: 62452 bytes,
2025-06-21T07:44:54.106544 [ESP8266]  INFO: Min free: 53252 bytes, Stack remaining: 7312 bytes[0m
2025-06-21T07:44:54.106557 [ESP8266]  INFO: [0;32mI
2025-06-21T07:44:54.116640 [ESP8266]  INFO: [ESP8266-MCP] Stack remaining before MCP server: 7312 bytes[0m
2025-06-21T07:44:54.116649 [ESP8266]  INFO: [0;32mI (11595) EspSoc
2025-06-21T07:44:54.126744 [ESP8266]  INFO: ketTransport: EspSocketTransport created with socket 55[0m
2025-06-21T07:44:54.126758 [ESP8266]  INFO: [0
2025-06-21T07:44:54.136843 [ESP8266]  INFO: [ESP8266-MCP] Stack remaining after transport creation: 7312 bytes[0m
2025-06-21T07:44:54.136853 [ESP8266]  INFO: [0;32mI (1
2025-06-21T07:44:54.146931 [ESP8266]  INFO: [MCPServer] MCPServer created[0m
2025-06-21T07:44:54.146939 [ESP8266]  INFO: [0;32mI (11625) MCPServ
2025-06-21T07:44:54.157017 [ESP8266]  INFO: er: MCPServer: Testing basic JSON creation...[0m
2025-06-21T07:44:54.157024 [ESP8266]  INFO: [0;32mI (116
2025-06-21T07:44:54.167103 [ESP8266]  INFO: [MCPServer] MCPServer: Basic JSON null value created successfully[0m
2025-06-21T07:44:54.167111 [ESP8266]  INFO: [0;32mI (11647) MCPSe
2025-06-21T07:44:54.177189 [ESP8266]  INFO: rver: MCPServer: JSON object created successfully[0m
2025-06-21T07:44:54.177197 [ESP8266]  INFO: [0;32mI
2025-06-21T07:44:54.187273 [ESP8266]  INFO: [MCPServer] MCPServer: JSON test passed during initializa
2025-06-21T07:44:54.197357 [ESP8266]  INFO: tion[0m
2025-06-21T07:44:54.197365 [ESP8266]  INFO: [ESP8266-MCP] Stack remaining after server creation: 7312 bytes[0m
2025-06-21T07:44:54.197368 [ESP8266]  INFO: 
2025-06-21T07:44:54.207459 [ESP8266]  INFO: [ESP8266-MCP] Starting C++ MCP server for client
2025-06-21T07:44:54.217550 [ESP8266]  INFO: [0m
2025-06-21T07:44:54.217558 [ESP8266]  INFO: [MCPServer] MCP Server starting...[0m
2025-06-21T07:44:54.217562 [ESP8266]  INFO: [0
2025-06-21T07:44:54.227657 [ESP8266]  INFO: [MCPServer] Debug: About to create std::string buffer[0m
2025-06-21T07:44:54.227673 [ESP8266]  INFO: [0;32mI (11706) MCPServ
2025-06-21T07:44:54.237766 [ESP8266]  INFO: er: Debug: Buffer created successfully[0m
2025-06-21T07:44:54.237780 [ESP8266]  INFO: [0;32mI (11715) MCP
2025-06-21T07:44:54.247859 [ESP8266]  INFO: Server: Debug: About to enter main loop[0m
2025-06-21T07:44:54.247863 [ESP8266]  INFO: [MCPServer] Debug: Loop iteration s
2025-06-21T07:44:54.257938 [ESP8266]  INFO: tart[0m
2025-06-21T07:44:54.257942 [ESP8266]  INFO: [MCPServer] Debug: About to call isCon
2025-06-21T07:44:54.268013 [ESP8266]  INFO: nected()[0m
2025-06-21T07:44:54.268017 [ESP8266]  INFO: [MCPServer] Debug: isConnected() r
2025-06-21T07:44:54.278091 [ESP8266]  INFO: eturned: true[0m
2025-06-21T07:44:54.278094 [ESP8266]  INFO: [MCPServer] Debug: About to call transport->read()[0m
2025-06-21T07:44:54.278097 [ESP8266]  INFO: [0;3
2025-06-21T07:44:54.288170 [ESP8266]  INFO: [MCPServer] Debug: transport->read() returned: true[
2025-06-21T07:44:54.298244 [ESP8266]  INFO: 0m
2025-06-21T07:44:54.298248 [ESP8266]  INFO: [MCPServer] Debug: Read successful, buffer s
2025-06-21T07:44:54.308336 [ESP8266]  INFO: ize: 141[0m
2025-06-21T07:44:54.308345 [ESP8266]  INFO: [MCPServer] Debug: About to process message[0m
2025-06-21T07:44:54.308349 [ESP8266]  INFO: [0;32mI (11788)
2025-06-21T07:44:54.318435 [ESP8266]  INFO: entered[0m
2025-06-21T07:44:54.318446 [ESP8266]  INFO: [0;32mI (11797)
2025-06-21T07:44:54.328524 [ESP8266]  INFO: MCPServer: Debug: About to check string validity[0m
2025-06-21T07:44:54.328529 [ESP8266]  INFO: [0;32mI
2025-06-21T07:44:54.338602 [ESP8266]  INFO: [MCPServer] Debug: Got string pointer: 0x401076e4[0m
2025-06-21T07:44:54.338607 [ESP8266]  INFO: [MCPServer] Debug:
2025-06-21T07:44:54.348691 [ESP8266]  INFO: About to get string size[0m
2025-06-21T07:44:54.348698 [ESP8266]  INFO: [MCPServer] Debug
2025-06-21T07:44:54.358775 [ESP8266]  INFO: : Message size: 141[0m
2025-06-21T07:44:54.358779 [ESP8266]  INFO: [MCPServer] Debug: Checking for empty message[0m
2025-06-21T07:44:54.358782 [ESP8266]  INFO: [0;
2025-06-21T07:44:54.368856 [ESP8266]  INFO: [MCPServer] Debug: Checking for HTTP request[0m
2025-06-21T07:44:54.368860 [ESP8266]  INFO: [
2025-06-21T07:44:54.378932 [ESP8266]  INFO: [MCPServer] Debug: About to create method/id/param
2025-06-21T07:44:54.389008 [ESP8266]  INFO: s strings[0m
2025-06-21T07:44:54.389012 [ESP8266]  INFO: [MCPServer] Debug: Strings created, calling parseRequest[0m
2025-06-21T07:44:54.389014 [ESP8266]  INFO: abo
2025-06-21T07:44:54.399087 [ESP8266]  INFO: rt() was called at PC 0x402851f9 on core 0
2025-06-21T07:44:54.399091 [ESP8266]  INFO: Guru Meditation Err
2025-06-21T07:44:54.409178 [ESP8266]  INFO: or: Core  0 panic'ed (StoreProhibited). Exception was unhandled.
2025-06-21T07:44:54.419273 [ESP8266]  INFO: Core 0 register dump:
2025-06-21T07:44:54.419282 [ESP8266]  INFO: PC      : 0x40215a96  PS      : 0x00000030  A0      : 0x40215a94  A1
2025-06-21T07:44:54.429361 [ESP8266]  INFO: : 0x3fff6a30
2025-06-21T07:44:54.429365 [ESP8266]  INFO: A2      : 0x00000000  A3      : 0xffffffdb
2025-06-21T07:44:54.439439 [ESP8266]  INFO: A4      : 0x00000001  A5      : 0x00000001
2025-06-21T07:44:54.439443 [ESP8266]  INFO: A6      : 0x0000
2025-06-21T07:44:54.449533 [ESP8266]  INFO: 0000  A7      : 0x00000000  A8      : 0x0000006e  A9      : 0x000000e0
2025-06-21T07:44:54.449543 [ESP8266]  INFO: A10     : 0x4029763c
2025-06-21T07:44:54.459620 [ESP8266]  INFO: A11     : 0x00000002  A12     : 0x3fff6c54  A13     : 0x4028575
2025-06-21T07:44:54.469695 [ESP8266]  INFO: d
2025-06-21T07:44:54.469700 [ESP8266]  INFO: A14     : 0x40265982  A15     : 0x3fff6cf0  SAR     : 0x00
2025-06-21T07:44:54.479773 [ESP8266]  INFO: 00001e  EXCCAUSE: 0x0000001d
2025-06-21T07:44:54.479777 [ESP8266]  INFO: Backtrace: 0x40215a96:0x3fff6a30 0x402851fc:0x3fff6a40 0x402
2025-06-21T07:44:54.489850 [ESP8266]  INFO: 8575d:0x3fff6b20 Guru Meditation Error: Core  0 panic'ed (LoadSt
2025-06-21T07:44:54.499924 [ESP8266]  INFO: oreAlignment). Exception was unhandled.
2025-06-21T07:44:54.499928 [ESP8266]  INFO: Core 0 register dump:
2025-06-21T07:44:54.499930 [ESP8266]  INFO: PC      : 0x4021eea5  PS      :
2025-06-21T07:44:54.510018 [ESP8266]  INFO: 0x00000033  A0      : 0x4021ee18  A1      : 0x3ffe8d40
2025-06-21T07:44:54.510027 [ESP8266]  INFO: A2
2025-06-21T07:44:54.520111 [ESP8266]  INFO: : 0x0007574d  A3      : 0x00000031  A4      : 0x3fff6bf1  A5
2025-06-21T07:44:54.530193 [ESP8266]  INFO: : 0x3fff6bed
2025-06-21T07:44:54.530198 [ESP8266]  INFO: A6      : 0x000007fe  A7      : 0x000000a1  A8      : 0x000000c0  A9
2025-06-21T07:44:54.540273 [ESP8266]  INFO: : 0x000000e0
2025-06-21T07:44:54.540276 [ESP8266]  INFO: A10     : 0x4029763c  A11     : 0x00000002  A1
2025-06-21T07:44:54.550349 [ESP8266]  INFO: 2     : 0x4028575d  A13     : 0x3ffe8d84
2025-06-21T07:44:54.550353 [ESP8266]  INFO: A14     : 0x40215a9
2025-06-21T07:44:54.560440 [ESP8266]  INFO: 4  A15     : 0x40215a94  SAR     : 0x0000001f  EXCCAUSE: 0x00000009
2025-06-21T07:44:54.560448 [ESP8266]  INFO: Backtrace: 0x4021eea5
2025-06-21T07:44:54.570527 [ESP8266]  INFO: :0x3ffe8d40 0x4021559f:0x3ffe8d70 0x40100eec:0x3ffe8dc0 0x4021ee
2025-06-21T07:44:54.580605 [ESP8266]  INFO: 18:0x3ffe8de0
2025-06-21T07:44:54.580609 [ESP8266]  INFO: B
2025-06-21T07:44:54.580611 [ESP8266]  INFO: n M\'uVoXA
2025-06-21T07:44:54.590700 [ESP8266]  INFO: 5I\))n=5Y*
2025-06-21T07:44:54.600783 [ESP8266]  INFO: LA
2025-06-21T07:44:54.600788 [ESP8266]  INFO: I~\-[P9e@|)5
2025-06-21T07:44:54.600790 [ESP8266]  INFO: 1rHQ(JHI 1U
2025-06-21T07:44:54.600792 [ESP8266]  INFO: A
2025-06-21T07:44:54.600794 [ESP8266]  INFO: e@|A
2025-06-21T07:44:54.610885 [ESP8266]  INFO: nz 	T	ү 1])G؛PEBY+ZQhPYvS
2025-06-21T07:44:54.610894 [ESP8266]  INFO: +xD5
2025-06-21T07:44:54.610896 [ESP8266]  INFO: %Y
2025-06-21T07:44:54.620982 [ESP8266]  INFO: Rv1eVUNUG
2025-06-21T07:44:54.620990 [ESP8266]  INFO: 3e~	rPYl\A-P+
2025-06-21T07:44:54.620992 [ESP8266]  INFO: +x
2025-06-21T07:44:54.620994 [ESP8266]  INFO: %Y
2025-06-21T07:44:54.620995 [ESP8266]  INFO: 
2025-06-21T07:44:54.631074 [ESP8266]  INFO: և !9+kG!j	%[
2025-06-21T07:44:54.631079 [ESP8266]  INFO: )Q 1eʉ-E% tB%C
2025-06-21T07:44:54.631081 [ESP8266]  INFO: APG
2025-06-21T07:44:54.641156 [ESP8266]  INFO: 
2025-06-21T07:44:54.641160 [ESP8266]  INFO: 1%[P9wG!yDJ	u%sJҥ  !1[ITPS
2025-06-21T07:44:54.651232 [ESP8266]  INFO: T)XJ	%s{
2025-06-21T07:44:54.651236 [ESP8266]  INFO: !RR11E5 `lVX
2025-06-21T07:44:54.651238 [ESP8266]  INFO: 1
2025-06-21T07:44:54.661312 [ESP8266]  INFO: iC5J !
2025-06-21T07:44:54.661315 [ESP8266]  INFO: 
2025-06-21T07:44:54.661317 [ESP8266]  INFO: %!1-EB	%!%$ !%.k#
2025-06-21T07:44:54.671407 [ESP8266]  INFO: 11EQ
2025-06-21T07:44:54.671417 [ESP8266]  INFO: %Yl
2025-06-21T07:44:54.671420 [ESP8266]  INFO: /LZZAnpH+*5 h)X7nT
2025-06-21T07:44:54.681495 [ESP8266]  INFO: RXmX pE)eB	#OQvVL
2025-06-21T07:44:54.691571 [ESP8266]  INFO: 1P=ET5g@Z1É]E@J)XG5) #OYnnL1V
2025-06-21T07:44:54.701645 [ESP8266]  INFO: eRR17e 1)IH)PG5) b#Z7V PXH15N
2025-06-21T07:44:54.701649 [ESP8266]  INFO: ^9
2025-06-21T07:44:54.711742 [ESP8266]  INFO: Em	!)IH)XJ	1#OYnl\LTՋ91%	!R1T
2025-06-21T07:44:54.721884 [ESP8266]  INFO: m	-)Ij)P%JAB
2025-06-21T07:44:54.721903 [ESP8266]  INFO: !~wYvX%T1Lqq@-RQ
2025-06-21T07:44:54.752161 [ESP8266]  INFO: [ESP8266-MCP] ESP8
2025-06-21T07:44:54.762250 [ESP8266]  INFO: 266-MCP starting up...[0m
2025-06-21T07:44:54.762256 [ESP8266]  INFO: [ESP8266-MCP] [App sta
2025-06-21T07:44:54.772337 [ESP8266]  INFO: rt] Free heap: 90836 bytes, Min free: 88156 bytes, Stack remaini
2025-06-21T07:44:54.782421 [ESP8266]  INFO: ng: 7312 bytes[0m
2025-06-21T07:44:54.782427 [ESP8266]  INFO: [ESP8266-MCP] [After NVS init] Free heap: 90836 bytes, Min fre
2025-06-21T07:44:54.792502 [ESP8266]  INFO: e: 88156 bytes, Stack remaining: 7312 bytes[0m
2025-06-21T07:44:54.792507 [ESP8266]  INFO: [0;32mI (250)
2025-06-21T07:44:54.802598 [ESP8266]  INFO: ESP8266-MCP: Initializing WiFi...[0m
2025-06-21T07:44:54.802608 [ESP8266]  INFO: [0;32mI (258) system_api
2025-06-21T07:44:54.812698 [ESP8266]  INFO: : Base MAC address is not set, read default base MAC address from EFUSE[0m
2025-06-21T07:44:54.812708 [ESP8266]  INFO: [0;32mI (271) syst
2025-06-21T07:44:54.822799 [ESP8266]  INFO: em_api: Base MAC address is not set, read default base MAC addre
2025-06-21T07:44:54.832885 [ESP8266]  INFO: ss from EFUSE[0m
2025-06-21T07:44:54.873144 [ESP8266]  INFO: phy_version: 1163.0, 665d56c, Ju
2025-06-21T07:44:54.883234 [ESP8266]  INFO: n 24 2020, 10:00:08, RTOS new
2025-06-21T07:44:54.883242 [ESP8266]  INFO: [phy_init] phy ver:
2025-06-21T07:44:54.893320 [ESP8266]  INFO: 1163_0[0m
2025-06-21T07:44:54.893325 [ESP8266]  INFO: [ESP8266-MCP] wifi
2025-06-21T07:44:54.903412 [ESP8266]  INFO: _init_sta finished.[0m
2025-06-21T07:44:55.014162 [ESP8266]  INFO: [wifi:state] 0 ->
2025-06-21T07:44:55.024270 [ESP8266]  INFO: 2 (b0)
2025-06-21T07:44:55.024280 [ESP8266]  INFO: [0m
2025-06-21T07:44:55.044428 [ESP8266]  INFO: [wifi:state] 2 -> 3 (0)
2025-06-21T07:44:55.044436 [ESP8266]  INFO: [0m
2025-06-21T07:44:55.064605 [ESP8266]  INFO: [wifi:state] 3 -> 5 (10)
2025-06-21T07:44:55.064619 [ESP8266]  INFO: [0m
2025-06-21T07:44:55.094822 [ESP8266]  INFO: [0;32mI (563) wifi:connected wi
2025-06-21T07:44:55.104909 [ESP8266]  INFO: th FBI Surveillance Van, aid = 1, channel 1, HT20, bssid = d8:6c:63:e6:14:02
2025-06-21T07:44:55.104917 [ESP8266]  INFO: [0m
2025-06-21T07:44:56.292761 [ESP8266]  INFO: [tcpip_adapter] sta ip: 192.168.86.37, mask: 255.
2025-06-21T07:44:56.302862 [ESP8266]  INFO: 255.255.0, gw: 192.168.86.1[0m
2025-06-21T07:44:56.302869 [ESP8266]  INFO: [ESP8266-MCP] go
2025-06-21T07:44:56.312959 [ESP8266]  INFO: t ip:192.168.86.37[0m
2025-06-21T07:44:56.312968 [ESP8266]  INFO: [ESP8266-MCP] connected t
2025-06-21T07:44:56.323051 [ESP8266]  INFO: o ap SSID:FBI Surveillance Van[0m
2025-06-21T07:44:56.323056 [ESP8266]  INFO: [ESP8266-MCP] [After WiFi init] Free heap: 63
2025-06-21T07:44:56.333169 [ESP8266]  INFO: 740 bytes, Min free: 61340 bytes, Stack remaining: 6752 bytes[0
2025-06-21T07:44:56.343251 [ESP8266]  INFO: m
2025-06-21T07:44:56.343255 [ESP8266]  INFO: [0;32mI (1791) wifi:pm stop
2025-06-21T07:44:56.343258 [ESP8266]  INFO: [ESP8266-MCP] WiFi connected, starting MCP s
2025-06-21T07:44:56.353333 [ESP8266]  INFO: erver...[0m
2025-06-21T07:44:56.353337 [ESP8266]  INFO: [ESP8266-MCP] [MCP task start] Free
2025-06-21T07:44:56.363412 [ESP8266]  INFO: heap: 55420 bytes, Min free: 53828 bytes, Stack remaining: 8032
2025-06-21T07:44:56.373496 [ESP8266]  INFO: bytes[0m
2025-06-21T07:44:56.373503 [ESP8266]  INFO: [ESP8266-MCP] TinyMCP server listening on port 8080[0m
2025-06-21T07:44:56.373506 [ESP8266]  INFO: [0;32mI (18
2025-06-21T07:44:56.383582 [ESP8266]  INFO: [ESP8266-MCP] ESP8266-MCP initialization complete[0m
